# 生产环境配置
# 注意：生产环境应使用环境变量，此文件提供默认值
app:
  prefix: ''
  port: 8080
  logger:
    # 项目日志存储路径
    dir: '/var/log/nest-admin-soybean'
  # 文件相关
  file:
    # 生产环境建议使用 COS/OSS 等云存储
    isLocal: false
    # location 文件上传后存储目录
    location: '/data/upload'
    # 文件服务器地址，生产环境必须配置为真实域名
    domain: 'https://your-domain.com'
    # 文件虚拟路径
    serveRoot: '/profile'
    # 文件大小限制，单位M
    maxSize: 10

# 腾讯云 COS 配置（生产环境推荐使用）
cos:
  secretId: ''
  secretKey: ''
  bucket: ''
  region: ''
  domain: ''
  location: ''

# 数据库配置
db:
  postgresql:
    host: '127.0.0.1'
    username: 'postgres'
    password: 'change-this-password'
    database: 'nest-admin-soybean'
    port: 5432
    ssl: true
    schema: 'public'

# Redis 配置
redis:
  host: 'redis'
  password: 'redis123'
  port: 6379
  db: 0
  keyPrefix: 'nest-admin-soybean:'

# JWT 配置
jwt:
  secretkey: 'CHANGE_THIS_SECRET_KEY_IN_PRODUCTION'
  expiresin: '24h'
  refreshExpiresIn: '7d'

# 权限白名单配置
perm:
  router:
    whitelist:
      [
        { path: '/captchaImage', method: 'GET' },
        { path: '/registerUser', method: 'GET' },
        { path: '/register', method: 'POST' },
        { path: '/login', method: 'POST' },
        { path: '/logout', method: 'POST' },
        { path: '/perm/{id}', method: 'GET' },
        { path: '/upload', method: 'POST' },
        # Soybean 前端认证 API
        { path: '/auth/tenant/list', method: 'GET' },
        { path: '/auth/code', method: 'GET' },
        { path: '/auth/login', method: 'POST' },
        { path: '/auth/register', method: 'POST' },
        { path: '/auth/logout', method: 'POST' },
        { path: '/auth/publicKey', method: 'GET' },
      ]

# 用户相关
user:
  initialPassword: '123456'

# 多租户配置
tenant:
  # 是否启用多租户
  enabled: true
  # 超级管理员租户ID (该租户可以访问所有租户数据)
  superTenantId: '000000'
  # 默认租户ID (新用户注册时的默认租户)
  defaultTenantId: '000000'

# 加解密配置
crypto:
  # 生产环境建议启用加解密
  enabled: true
  # RSA 公钥 (PEM 格式，留空则自动生成)
  rsaPublicKey: 'MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdHnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ=='
  # RSA 私钥 (PEM 格式，留空则自动生成)
  rsaPrivateKey: |
    -----BEGIN RSA PRIVATE KEY-----
    MIIBOwIBAAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdHnzkXSOVOZbFu/TJhZ7rF
    AN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQJAQs0wjHPzR8hF6fKdnUPg
    cFh0iM4g8b4qFYrfCXUuQu1xfJpW3H3xVgJN5vKSYp8KjhzGPPKWNSKCz0lKwX+h
    0QIhANTg7LqH4jqmGpXVLAqHt8HHBxoJV+bQQzgX3XnZvNn1AiEAzK0x9K7vP8bL
    vqLJX5AJZxKNZj3jC7P1NdHh4vQYrOsCIQCW9FqdMmPULJRHQZLBVmGPT6b5vJL7
    qOZvBfLTxR/8FQIgbMXCg6cTdJLqQz5lF8t7yLCFqH7P9AkH4UvJL8bVzs0CIQC0
    4HwLJnHF8TvN4TqF8qLHzVR9lMPKjTL0zP2NhQ5mQg==
    -----END RSA PRIVATE KEY-----

# 客户端配置 (用于 OAuth2 / 多端登录)
client:
  # 默认客户端ID
  defaultClientId: 'pc'
  # 默认授权类型
  defaultGrantType: 'password'

