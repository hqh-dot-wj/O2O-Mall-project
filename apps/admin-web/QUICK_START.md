# è¯¾ç¨‹æ‹¼å›¢å‰ç«¯å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿé›†æˆ

### æ­¥éª¤1: ç¡®è®¤æ–‡ä»¶å·²åˆ›å»º âœ…

ä»¥ä¸‹æ–‡ä»¶åº”è¯¥å·²ç»å­˜åœ¨ï¼š

```
âœ… src/service/api/course-group-buy.ts
âœ… src/views/marketing/course-management/index.vue
âœ… src/views/marketing/course-management/modules/course-schedule-tab.vue
âœ… src/views/marketing/course-management/modules/course-attendance-tab.vue
```

### æ­¥éª¤2: æ·»åŠ è·¯ç”±é…ç½®

æ‰¾åˆ°è·¯ç”±é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸åœ¨ `src/router/routes/` ç›®å½•ä¸‹ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹è·¯ç”±ï¼š

```typescript
// src/router/routes/marketing.ts æˆ– src/router/routes/index.ts

{
  path: '/marketing/course-management',
  name: 'marketing_course-management',
  component: () => import('@/views/marketing/course-management/index.vue'),
  meta: {
    title: 'è¯¾ç¨‹ç®¡ç†',
    requiresAuth: true,
    icon: 'mdi-school'
  }
}
```

### æ­¥éª¤3: æ·»åŠ èœå•é¡¹ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦åœ¨ä¾§è¾¹æ èœå•ä¸­æ˜¾ç¤ºï¼Œæ‰¾åˆ°èœå•é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ï¼š

```typescript
// åœ¨è¥é”€æ¨¡å—ä¸‹æ·»åŠ 
{
  label: 'è¯¾ç¨‹ç®¡ç†',
  key: 'course-management',
  icon: renderIcon('mdi-school'),
  path: '/marketing/course-management'
}
```

### æ­¥éª¤4: åœ¨è¥é”€æ´»åŠ¨åˆ—è¡¨ä¸­æ·»åŠ å…¥å£

æ‰¾åˆ°è¥é”€æ´»åŠ¨åˆ—è¡¨é¡µé¢ï¼ˆ`src/views/store/marketing/activity/index.vue`ï¼‰ï¼Œåœ¨æ“ä½œåˆ—ä¸­æ·»åŠ æŒ‰é’®ï¼š

```vue
<template>
  <!-- åœ¨æ“ä½œåˆ—çš„ render å‡½æ•°ä¸­æ·»åŠ  -->
  <NButton
    v-if="row.templateCode === 'COURSE_GROUP_BUY'"
    type="primary"
    ghost
    size="small"
    @click="gotoCourseManagement(row.id)"
  >
    <template #icon>
      <icon-mdi-school />
    </template>
    è¯¾ç¨‹ç®¡ç†
  </NButton>
</template>

<script setup lang="tsx">
import { useRouter } from 'vue-router';

const router = useRouter();

function gotoCourseManagement(instanceId: string) {
  router.push({
    path: '/marketing/course-management',
    query: { instanceId }
  });
}
</script>
```

### æ­¥éª¤5: æµ‹è¯•åŠŸèƒ½

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
cd apps/admin-web
npm run dev
```

2. è®¿é—®é¡µé¢ï¼š
```
http://localhost:5173/marketing/course-management?instanceId=xxx
```

3. æµ‹è¯•åŠŸèƒ½ï¼š
   - âœ… æŸ¥çœ‹æ’è¯¾åˆ—è¡¨
   - âœ… ç­›é€‰æ’è¯¾çŠ¶æ€
   - âœ… æŸ¥çœ‹è€ƒå‹¤åˆ—è¡¨
   - âœ… æ ‡è®°å­¦å‘˜å‡ºå‹¤
   - âœ… æŸ¥çœ‹å­¦å‘˜å‡ºå‹¤ç‡

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: æŸ¥çœ‹è¯¾ç¨‹æ’è¯¾

```typescript
// ä»è¥é”€æ´»åŠ¨åˆ—è¡¨ç‚¹å‡»"è¯¾ç¨‹ç®¡ç†"æŒ‰é’®
// è‡ªåŠ¨è·³è½¬åˆ°è¯¾ç¨‹ç®¡ç†é¡µé¢
// é»˜è®¤æ˜¾ç¤º"æ’è¯¾ç®¡ç†"æ ‡ç­¾é¡µ
// æŸ¥çœ‹æ‰€æœ‰æ’è¯¾ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®
```

### åœºæ™¯2: æ ‡è®°å­¦å‘˜å‡ºå‹¤

```typescript
// åˆ‡æ¢åˆ°"è€ƒå‹¤ç®¡ç†"æ ‡ç­¾é¡µ
// ç‚¹å‡»"æ ‡è®°å‡ºå‹¤"æŒ‰é’®
// å¡«å†™å­¦å‘˜IDå’Œè€ƒå‹¤æ—¥æœŸ
// æäº¤åè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨
```

### åœºæ™¯3: æŸ¥çœ‹å­¦å‘˜å‡ºå‹¤ç‡

```typescript
// åœ¨è€ƒå‹¤åˆ—è¡¨ä¸­ç‚¹å‡»"å‡ºå‹¤ç‡"æŒ‰é’®
// å¼¹çª—æ˜¾ç¤ºè¯¥å­¦å‘˜çš„å‡ºå‹¤ç»Ÿè®¡
// åŒ…æ‹¬æ€»è¯¾æ—¶ã€å·²å‡ºå‹¤ã€å‡ºå‹¤ç‡
```

## ğŸ“ APIæ¥å£è¯´æ˜

### 1. è·å–æ’è¯¾ä¿¡æ¯
```typescript
GET /api/marketing/play/course/:instanceId/schedules

Response:
[
  {
    "id": "schedule_123",
    "date": "2024-02-06",
    "startTime": "09:00",
    "endTime": "11:00",
    "lessons": 2,
    "status": "SCHEDULED",
    "remark": "ç¬¬ä¸€èŠ‚è¯¾"
  }
]
```

### 2. è·å–è€ƒå‹¤ä¿¡æ¯
```typescript
GET /api/marketing/play/course/:instanceId/attendances

Response:
[
  {
    "id": "attendance_123",
    "memberId": "member_456",
    "date": "2024-02-06",
    "attended": true,
    "remark": "å‡†æ—¶åˆ°è¾¾"
  }
]
```

### 3. æ ‡è®°å‡ºå‹¤
```typescript
POST /api/marketing/play/course/:instanceId/attendance

Request:
{
  "memberId": "member_456",
  "date": "2024-02-06",
  "remark": "å‡†æ—¶åˆ°è¾¾"
}

Response:
{
  "id": "attendance_123",
  "memberId": "member_456",
  "date": "2024-02-06",
  "attended": true,
  "remark": "å‡†æ—¶åˆ°è¾¾"
}
```

### 4. è·å–å‡ºå‹¤ç‡
```typescript
GET /api/marketing/play/course/:instanceId/attendance-rate?memberId=member_456

Response:
{
  "total": 10,
  "attended": 8,
  "rate": 0.8
}
```

## ğŸ¨ UIé¢„è§ˆ

### æ’è¯¾ç®¡ç†é¡µé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯¾ç¨‹ç®¡ç†                                    [åˆ·æ–°]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â„¹ï¸ è¯¾ç¨‹ç®¡ç†è¯´æ˜                                          â”‚
â”‚ â€¢ æ’è¯¾ç®¡ç†ï¼šæŸ¥çœ‹è¯¾ç¨‹çš„æ’è¯¾è®¡åˆ’                            â”‚
â”‚ â€¢ è€ƒå‹¤ç®¡ç†ï¼šè®°å½•å­¦å‘˜å‡ºå‹¤æƒ…å†µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ’è¯¾ç®¡ç†] [è€ƒå‹¤ç®¡ç†]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ â”‚  10  â”‚ â”‚  8   â”‚ â”‚  2   â”‚ â”‚ 80%  â”‚                   â”‚
â”‚ â”‚æ€»æ’è¯¾â”‚ â”‚å·²å®Œæˆâ”‚ â”‚å¾…ä¸Šè¯¾â”‚ â”‚è¿›åº¦  â”‚                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ç­›é€‰çŠ¶æ€ â–¼]                              [åˆ·æ–°]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸Šè¯¾æ—¥æœŸ  â”‚ ä¸Šè¯¾æ—¶é—´      â”‚ è¯¾æ—¶æ•° â”‚ çŠ¶æ€   â”‚ å¤‡æ³¨     â”‚
â”‚ 2024-02-06â”‚ 09:00-11:00  â”‚ 2èŠ‚   â”‚ å·²æ’è¯¾ â”‚ ç¬¬ä¸€èŠ‚è¯¾ â”‚
â”‚ 2024-02-07â”‚ 09:00-11:00  â”‚ 2èŠ‚   â”‚ å·²å®Œæˆ â”‚ ç¬¬äºŒèŠ‚è¯¾ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è€ƒå‹¤ç®¡ç†é¡µé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ’è¯¾ç®¡ç†] [è€ƒå‹¤ç®¡ç†]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚  20  â”‚ â”‚  16  â”‚ â”‚  4   â”‚ â”‚ 80%  â”‚ â”‚  5   â”‚         â”‚
â”‚ â”‚æ€»è®°å½•â”‚ â”‚å·²å‡ºå‹¤â”‚ â”‚æœªå‡ºå‹¤â”‚ â”‚å‡ºå‹¤ç‡â”‚ â”‚å­¦å‘˜  â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ç­›é€‰çŠ¶æ€ â–¼]                [æ ‡è®°å‡ºå‹¤] [åˆ·æ–°]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å­¦å‘˜ID    â”‚ è€ƒå‹¤æ—¥æœŸ  â”‚ å‡ºå‹¤çŠ¶æ€ â”‚ å¤‡æ³¨     â”‚ æ“ä½œ    â”‚
â”‚ member_1  â”‚ 2024-02-06â”‚ âœ…å·²å‡ºå‹¤ â”‚ å‡†æ—¶åˆ°è¾¾ â”‚[å‡ºå‹¤ç‡] â”‚
â”‚ member_2  â”‚ 2024-02-06â”‚ âŒæœªå‡ºå‹¤ â”‚ è¯·å‡     â”‚[å‡ºå‹¤ç‡] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: é¡µé¢æ˜¾ç¤ºç©ºç™½ï¼Ÿ
**A**: æ£€æŸ¥instanceIdå‚æ•°æ˜¯å¦æ­£ç¡®ä¼ é€’ï¼š
```typescript
// ç¡®ä¿URLåŒ…å«instanceIdå‚æ•°
/marketing/course-management?instanceId=xxx
```

### Q2: APIè¯·æ±‚å¤±è´¥ï¼Ÿ
**A**: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
curl http://localhost:3000/api/marketing/play/course/xxx/schedules
```

### Q3: å›¾æ ‡ä¸æ˜¾ç¤ºï¼Ÿ
**A**: ç¡®ä¿å·²å®‰è£…å›¾æ ‡åº“ï¼š
```bash
npm install @iconify/vue
```

### Q4: æ ·å¼ä¸æ­£ç¡®ï¼Ÿ
**A**: ç¡®ä¿å·²å®‰è£…UnoCSSï¼š
```bash
npm install -D unocss
```

## ğŸ“š æ›´å¤šæ–‡æ¡£

- [å®Œæ•´ä½¿ç”¨æŒ‡å—](./docs/COURSE_MANAGEMENT_GUIDE.md)
- [å®ç°æ€»ç»“](./docs/COURSE_FRONTEND_IMPLEMENTATION_SUMMARY.md)
- [åç«¯APIæ–‡æ¡£](../backend/docs/COURSE_GROUP_BUY_EXTENSION_IMPLEMENTATION.md)

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å·²ç»æˆåŠŸé›†æˆäº†è¯¾ç¨‹æ‹¼å›¢ç®¡ç†åŠŸèƒ½ï¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
