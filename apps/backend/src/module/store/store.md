# 门店业务总模块 (Store Root Module)

本目录（`apps/backend/src/module/store`）是 O2O 平台中“门店端（B端/S端）”业务逻辑的核心聚集地。它负责处理租户（门店）在日常经营中的商品经营、订单履约、财务结算及分销规则配置。

## 📂 文件夹架构

```text
store/
├── distribution/   # 分销配置模块：管理门店自定义的一/二级分佣比例及跨店规则。
├── finance/        # 财务管理模块：提供资金看板、财务流水及提现审核等功能。
├── order/          # 订单管理模块：处理门店订单生命周期、派单及核销逻辑。
├── product/        # 商品管理模块：负责从全局库同步选品、价格维护及利润风控。
├── stock/          # 库存管理模块：实现高并发下的原子库存变更与监控。
└── store.module.ts # 根模块配置：聚合上述子模块并注册商品同步等跨模块任务。
```

## 📝 整体概览

- **核心目标**：实现“总部控货、门店经营”的 O2O 闭环。总部定义 SKU 模板与成本，门店定义售价、库存与服务参数。
- **公共逻辑**：
    - **多租户隔离**：所有子模块通过 `tenantId` 确保门店间数据逻辑绝对隔离。
    - **异步同步**：通过 Bull 队列维护总部与门店间的数据一致性（如总部下架、门店自动失效）。
    - **风控体系**：全模块集成利润红线校验，确保门店经营在安全的价格区间内。

---
*注：本文件夹下的各子模块均配有详细的 `[module_name].md` 描述文档。*
