# è´¡çŒ®æŒ‡å—

é¦–å…ˆï¼Œæ„Ÿè°¢æ‚¨è€ƒè™‘ä¸º Nest-Admin åšå‡ºè´¡çŒ®ï¼ğŸ‰

ä»¥ä¸‹æ˜¯ä¸€å¥—æŒ‡å¯¼åŸåˆ™ï¼Œå¸®åŠ©æ‚¨å‚ä¸åˆ°é¡¹ç›®ä¸­æ¥ã€‚

## ğŸ“‹ ç›®å½•

- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [Pull Request æµç¨‹](#pull-request-æµç¨‹)

---

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ å¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜ä¿æŒåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º

- ä½¿ç”¨æ€§æš—ç¤ºçš„è¯­è¨€æˆ–å›¾åƒ
- æŒ‘è¡…ã€ä¾®è¾±æˆ–è´¬æŸæ€§è¯„è®º
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–ä¸é“å¾·æˆ–ä¸ä¸“ä¸šçš„è¡Œä¸º

---

## å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Š Bug

åœ¨æäº¤ Bug æŠ¥å‘Šä¹‹å‰ï¼š

1. **æ£€æŸ¥æ–‡æ¡£** - ç¡®ä¿é—®é¢˜ä¸æ˜¯é…ç½®é”™è¯¯
2. **æœç´¢ Issues** - çœ‹çœ‹æ˜¯å¦å·²æœ‰äººæŠ¥å‘Šç›¸åŒé—®é¢˜
3. **æ£€æŸ¥ç‰ˆæœ¬** - ç¡®ä¿ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬

æäº¤ Bug æ—¶ï¼Œè¯·åŒ…å«ï¼š

- **æ¸…æ™°çš„æ ‡é¢˜**ï¼šç®€æ´æè¿°é—®é¢˜
- **è¯¦ç»†æè¿°**ï¼š
  - é¢„æœŸè¡Œä¸º
  - å®é™…è¡Œä¸º
  - å¤ç°æ­¥éª¤
- **ç¯å¢ƒä¿¡æ¯**ï¼š
  - æ“ä½œç³»ç»Ÿ
  - Node.js ç‰ˆæœ¬
  - æµè§ˆå™¨ç‰ˆæœ¬
- **é”™è¯¯æ—¥å¿—**ï¼šå®Œæ•´çš„é”™è¯¯å †æ ˆ
- **æˆªå›¾**ï¼šå¦‚æœé€‚ç”¨

**Bug æŠ¥å‘Šæ¨¡æ¿**ï¼š

```markdown
## Bug æè¿°
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜

## å¤ç°æ­¥éª¤
1. è¿›å…¥ '...'
2. ç‚¹å‡» '...'
3. æ»šåŠ¨åˆ° '...'
4. çœ‹åˆ°é”™è¯¯

## é¢„æœŸè¡Œä¸º
æè¿°åº”è¯¥å‘ç”Ÿä»€ä¹ˆ

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿäº†ä»€ä¹ˆ

## ç¯å¢ƒä¿¡æ¯
- OS: [e.g. macOS 14.0]
- Node: [e.g. 20.19.0]
- Browser: [e.g. Chrome 120]
- Version: [e.g. 2.0.0]

## é”™è¯¯æ—¥å¿—
```
ç²˜è´´é”™è¯¯æ—¥å¿—
```

## æˆªå›¾
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾
```

### å»ºè®®æ–°åŠŸèƒ½

æˆ‘ä»¬æ¬¢è¿åŠŸèƒ½å»ºè®®ï¼æäº¤å‰ï¼š

1. **ç¡®ä¿åŠŸèƒ½ç¬¦åˆé¡¹ç›®ç›®æ ‡**
2. **æœç´¢ç°æœ‰ Issues** - é¿å…é‡å¤
3. **è¯¦ç»†è¯´æ˜ç”¨ä¾‹** - è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦æ­¤åŠŸèƒ½

**åŠŸèƒ½å»ºè®®æ¨¡æ¿**ï¼š

```markdown
## åŠŸèƒ½æè¿°
æ¸…æ™°ç®€æ´åœ°æè¿°æ‚¨æƒ³è¦çš„åŠŸèƒ½

## é—®é¢˜èƒŒæ™¯
æè¿°å½“å‰é‡åˆ°çš„é—®é¢˜æˆ–ç—›ç‚¹

## è§£å†³æ–¹æ¡ˆ
æè¿°æ‚¨å¸Œæœ›çš„è§£å†³æ–¹æ¡ˆ

## æ›¿ä»£æ–¹æ¡ˆ
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–æ–¹æ¡ˆ

## ä½¿ç”¨åœºæ™¯
æè¿°å…¸å‹çš„ä½¿ç”¨åœºæ™¯

## é¢å¤–ä¿¡æ¯
æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯æˆ–æˆªå›¾
```

---

## å¼€å‘æµç¨‹

### 1. Fork ä»“åº“

ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ "Fork" æŒ‰é’®

### 2. å…‹éš†ä»“åº“

```bash
git clone https://github.com/YOUR_USERNAME/Nest-Admin.git
cd Nest-Admin
```

### 3. æ·»åŠ ä¸Šæ¸¸ä»“åº“

```bash
git remote add upstream https://github.com/linlingqin77/Nest-Admin.git
```

### 4. åˆ›å»ºåˆ†æ”¯

```bash
# æ›´æ–°ä¸»åˆ†æ”¯
git checkout main
git pull upstream main

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name
# æˆ–ä¿®å¤åˆ†æ”¯
git checkout -b fix/your-bug-fix
```

### 5. å¼€å‘ç¯å¢ƒè®¾ç½®

#### åç«¯

```bash
cd server
pnpm install
pnpm generate:keys
pnpm prisma:generate
pnpm prisma:seed
pnpm start:dev
```

#### å‰ç«¯

```bash
cd admin-naive-ui
pnpm install
pnpm dev
```

### 6. è¿›è¡Œå¼€å‘

- ç¼–å†™ä»£ç 
- æ·»åŠ æµ‹è¯•
- æ›´æ–°æ–‡æ¡£
- éµå¾ªä»£ç è§„èŒƒ

### 7. æäº¤æ›´æ”¹

```bash
git add .
git commit -m "feat: add amazing feature"
```

### 8. æ¨é€åˆ°è¿œç¨‹

```bash
git push origin feature/your-feature-name
```

### 9. åˆ›å»º Pull Request

åœ¨ GitHub ä¸Šåˆ›å»º PRï¼Œè¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹

---

## ä»£ç è§„èŒƒ

### TypeScript è§„èŒƒ

#### å‘½åçº¦å®š

```typescript
// âœ… å¥½çš„å‘½å
class UserService {}
interface UserDto {}
enum UserStatus {}
const MAX_RETRY_COUNT = 3;
function getUserById(id: string) {}

// âŒ ä¸å¥½çš„å‘½å
class user_service {}
interface userDto {}
const maxretrycount = 3;
function get_user(id) {}
```

#### ç±»å‹æ³¨è§£

```typescript
// âœ… æ˜¾å¼ç±»å‹æ³¨è§£
function createUser(data: CreateUserDto): Promise<User> {
  // ...
}

// âŒ é¿å… any
function processData(data: any) {
  // ...
}
```

#### æ¥å£ vs ç±»å‹

```typescript
// âœ… ä½¿ç”¨ interface å®šä¹‰å¯¹è±¡ç»“æ„
interface User {
  id: string;
  name: string;
}

// âœ… ä½¿ç”¨ type å®šä¹‰è”åˆç±»å‹
type Status = 'active' | 'inactive';
```

### NestJS è§„èŒƒ

#### æ§åˆ¶å™¨

```typescript
@Controller('users')
@ApiTags('ç”¨æˆ·ç®¡ç†')
export class UserController {
  constructor(private readonly userService: UserService) {}

  @Get()
  @RequirePermission('system:user:list')
  @Api({
    summary: 'è·å–ç”¨æˆ·åˆ—è¡¨',
    type: [UserVo]
  })
  async findAll(@Query() query: QueryUserDto) {
    return this.userService.findAll(query);
  }
}
```

#### æœåŠ¡

```typescript
@Injectable()
export class UserService {
  constructor(
    private readonly prisma: PrismaService,
    private readonly logger: Logger
  ) {}

  async findAll(query: QueryUserDto) {
    try {
      // ä¸šåŠ¡é€»è¾‘
    } catch (error) {
      this.logger.error('æŸ¥è¯¢ç”¨æˆ·å¤±è´¥', error);
      throw new BusinessException('æŸ¥è¯¢ç”¨æˆ·å¤±è´¥');
    }
  }
}
```

### Vue è§„èŒƒ

#### ç»„ä»¶ç»“æ„

```vue
<script setup lang="ts">
// 1. å¯¼å…¥
import { ref, computed } from 'vue';

// 2. Props & Emits
interface Props {
  title: string;
}
const props = defineProps<Props>();

interface Emits {
  (e: 'update', value: string): void;
}
const emit = defineEmits<Emits>();

// 3. å“åº”å¼æ•°æ®
const count = ref(0);

// 4. è®¡ç®—å±æ€§
const doubleCount = computed(() => count.value * 2);

// 5. æ–¹æ³•
function handleClick() {
  emit('update', 'value');
}

// 6. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  // ...
});
</script>

<template>
  <div class="container">
    <h1>{{ title }}</h1>
    <button @click="handleClick">Click</button>
  </div>
</template>

<style scoped>
.container {
  padding: 16px;
}
</style>
```

#### ç»„ä»¶å‘½å

```typescript
// âœ… PascalCase
export default defineComponent({
  name: 'UserList'
});

// âŒ å…¶ä»–æ ¼å¼
export default defineComponent({
  name: 'userList'
});
```

### CSS è§„èŒƒ

#### ä½¿ç”¨ UnoCSS

```vue
<template>
  <!-- âœ… åŸå­åŒ–ç±»å -->
  <div class="flex items-center justify-between p-4 bg-white rounded-lg shadow">
    <span class="text-lg font-bold">Title</span>
  </div>

  <!-- âŒ é¿å…å†…è”æ ·å¼ -->
  <div style="display: flex; padding: 16px;">
    <span style="font-size: 18px;">Title</span>
  </div>
</template>
```

---

## æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/zh-hans/) è§„èŒƒã€‚

### æäº¤æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ Bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤ Bugï¼‰
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨
- `revert`: å›é€€æäº¤

### Scope èŒƒå›´

- `server`: åç«¯
- `admin`: å‰ç«¯
- `auth`: è®¤è¯
- `user`: ç”¨æˆ·
- `role`: è§’è‰²
- `menu`: èœå•
- `tenant`: ç§Ÿæˆ·
- ç­‰ç­‰...

### ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
git commit -m "feat(user): æ·»åŠ ç”¨æˆ·å¯¼å‡ºåŠŸèƒ½"

# ä¿®å¤ Bug
git commit -m "fix(auth): ä¿®å¤ token åˆ·æ–°å¤±è´¥çš„é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–° README å®‰è£…æ­¥éª¤"

# æ€§èƒ½ä¼˜åŒ–
git commit -m "perf(query): ä¼˜åŒ–ç”¨æˆ·åˆ—è¡¨æŸ¥è¯¢æ€§èƒ½"

# é‡æ„
git commit -m "refactor(service): é‡æ„ç”¨æˆ·æœåŠ¡ä»£ç ç»“æ„"
```

### å®Œæ•´ç¤ºä¾‹

```
feat(tenant): æ·»åŠ ç§Ÿæˆ·å¥—é¤ç®¡ç†åŠŸèƒ½

- æ–°å¢ç§Ÿæˆ·å¥—é¤ CRUD æ¥å£
- æ·»åŠ å¥—é¤èœå•æƒé™é…ç½®
- å®Œå–„å‰ç«¯å¥—é¤ç®¡ç†é¡µé¢

Closes #123
```

---

## Pull Request æµç¨‹

### 1. æäº¤å‰æ£€æŸ¥

```bash
# åç«¯
cd server
pnpm lint           # ä»£ç æ£€æŸ¥
pnpm test           # è¿è¡Œæµ‹è¯•
pnpm build:prod     # æ„å»ºæ£€æŸ¥

# å‰ç«¯
cd admin-naive-ui
pnpm lint           # ä»£ç æ£€æŸ¥
pnpm typecheck      # ç±»å‹æ£€æŸ¥
pnpm build          # æ„å»ºæ£€æŸ¥
```

### 2. æ›´æ–°ä¸»åˆ†æ”¯

```bash
git checkout main
git pull upstream main
git checkout feature/your-feature
git rebase main
```

### 3. è§£å†³å†²çªï¼ˆå¦‚æœ‰ï¼‰

```bash
# è§£å†³å†²çªå
git add .
git rebase --continue
```

### 4. æ¨é€æ›´æ”¹

```bash
git push origin feature/your-feature
# å¦‚æœ rebase è¿‡ï¼Œå¯èƒ½éœ€è¦å¼ºåˆ¶æ¨é€
git push -f origin feature/your-feature
```

### 5. åˆ›å»º PR

åœ¨ GitHub ä¸Šï¼š

1. ç‚¹å‡» "New Pull Request"
2. é€‰æ‹©æ‚¨çš„åˆ†æ”¯
3. å¡«å†™ PR æè¿°

**PR æ¨¡æ¿**ï¼š

```markdown
## å˜æ›´ç±»å‹
- [ ] æ–°åŠŸèƒ½
- [ ] Bug ä¿®å¤
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ä»£ç é‡æ„

## å˜æ›´æè¿°
è¯¦ç»†æè¿°æœ¬æ¬¡å˜æ›´çš„å†…å®¹

## å…³è” Issue
Closes #issue_number

## æµ‹è¯•
- [ ] å·²é€šè¿‡æ‰€æœ‰æµ‹è¯•
- [ ] å·²æ·»åŠ æ–°æµ‹è¯•
- [ ] å·²æ‰‹åŠ¨æµ‹è¯•

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒ
- [ ] å·² rebase æœ€æ–°ä¸»åˆ†æ”¯
```

### 6. Code Review

- è€å¿ƒç­‰å¾… Review
- åŠæ—¶å›å¤è¯„å®¡æ„è§
- æ ¹æ®åé¦ˆä¿®æ”¹ä»£ç 

### 7. åˆå¹¶

PR è¢«æ‰¹å‡†åï¼Œç»´æŠ¤è€…ä¼šåˆå¹¶æ‚¨çš„ä»£ç ã€‚

---

## å¼€å‘æŠ€å·§

### è°ƒè¯•åç«¯

```typescript
// ä½¿ç”¨ Logger
this.logger.debug('è°ƒè¯•ä¿¡æ¯', { data });
this.logger.error('é”™è¯¯ä¿¡æ¯', error);

// ä½¿ç”¨æ–­ç‚¹
// VSCode è°ƒè¯•é…ç½®å·²åŒ…å«åœ¨ .vscode/launch.json
```

### è°ƒè¯•å‰ç«¯

```typescript
// ä½¿ç”¨ console
console.log('è°ƒè¯•ä¿¡æ¯', data);

// ä½¿ç”¨ Vue DevTools
// Chrome æ‰©å±•ï¼šVue.js devtools
```

### å¸¸è§é—®é¢˜

**Q: Prisma å®¢æˆ·ç«¯æœªæ›´æ–°**
```bash
pnpm prisma:generate
```

**Q: å‰ç«¯è·¯ç”±æœªç”Ÿæˆ**
```bash
pnpm gen-route
```

**Q: Redis ç¼“å­˜ä¸ä¸€è‡´**
```bash
pnpm redis:flush
```

**Q: æ•°æ®åº“è¿ç§»å¤±è´¥**
```bash
pnpm prisma:reset
```

---

## è·å–å¸®åŠ©

- ğŸ“– é˜…è¯»[æ–‡æ¡£](README.md)
- ğŸ’¬ æäº¤ [Issue](https://github.com/linlingqin77/Nest-Admin/issues)
- ğŸ“§ é‚®ä»¶è”ç³»: linlingqin77@qq.com

---

## è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†æŒ‰ç…§ [MIT è®¸å¯è¯](LICENSE) è¿›è¡Œè®¸å¯ã€‚

---

**å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼** ğŸ™

æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®© Nest-Admin å˜å¾—æ›´å¥½ï¼
